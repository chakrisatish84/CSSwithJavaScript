(()=>{"use strict";var t={235:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkLose=e.checkWin=e.revealTile=e.makrTile=e.createBoard=e.STATUS_VALUES=void 0,e.STATUS_VALUES={HIDDEN:"hidden",MINE:"mine",NUMBER:"number",MARKED:"marked"},e.createBoard=function(t,o){for(var u=[],i=function(t,e){for(var o=[],u=function(){var e={x:n(t),y:n(t)};o.some((function(t){return r(t,e)}))||o.push(e)};e>o.length;)u();return o}(t,o),a=function(n){for(var o=[],a=function(t){var u=document.createElement("div");u.dataset.status=e.STATUS_VALUES.HIDDEN;var a={position:{x:n,y:t},element:u,mine:i.some((function(e){return r(e,{x:n,y:t})})),getStatus:function(){return this.element.dataset.status},setStatus:function(t){this.element.dataset.status=t}};o.push(a)},S=0;S<t;S++)a(S);u.push(o)},S=0;S<t;S++)a(S);return u},e.makrTile=function(t){t.getStatus()!==e.STATUS_VALUES.HIDDEN&&t.getStatus()!==e.STATUS_VALUES.MARKED||(t.getStatus()===e.STATUS_VALUES.HIDDEN?t.setStatus(e.STATUS_VALUES.MARKED):t.setStatus(e.STATUS_VALUES.HIDDEN))};var n=function(t){return Math.floor(Math.random()*t)},r=function(t,e){return t.x==e.x&&t.y===e.y};e.revealTile=function(t,n){if(n.getStatus()===e.STATUS_VALUES.HIDDEN)if(n.mine)n.setStatus(e.STATUS_VALUES.MINE);else{n.setStatus(e.STATUS_VALUES.NUMBER);var r=o(t,n),u=r.filter((function(t){return t.mine})).length;0===u?r.forEach(e.revealTile.bind(null,t)):n.element.textContent=u.toString()}};var o=function(t,e){for(var n,r=e.position,o=r.x,u=r.y,i=[],a=-1;a<=1;a++)for(var S=-1;S<=1;S++){var c=null===(n=t[o+a])||void 0===n?void 0:n[u+S];c&&i.push(c)}return i};e.checkWin=function(t){return t.every((function(t){return t.every((function(t){return t.getStatus()===e.STATUS_VALUES.NUMBER||t.mine&&(t.getStatus()===e.STATUS_VALUES.HIDDEN||t.getStatus()===e.STATUS_VALUES.MARKED)}))}))},e.checkLose=function(t){return t.some((function(t){return t.some((function(t){return t.getStatus()===e.STATUS_VALUES.MINE}))}))}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var u=e[r]={exports:{}};return t[r](u,u.exports,n),u.exports}(()=>{var t=n(235),e=t.createBoard(10,5),r=document.querySelector(".board"),o=document.querySelector("[data-mines-count]"),u=document.querySelector(".subtext");r&&e.forEach((function(n){n.forEach((function(n){n&&(r.append(null==n?void 0:n.element),n.element&&(n.element.addEventListener("click",(function(){var o,i;t.revealTile(e,n),o=t.checkWin(e),i=t.checkLose(e),(o||i)&&(r.addEventListener("click",a,{capture:!0}),r.addEventListener("contextmenu",a,{capture:!0})),o&&(u.textContent="You Won"),i&&(u.textContent="You Lose",e.forEach((function(n){n.forEach((function(n){n.getStatus()===t.STATUS_VALUES.MARKED&&t.makrTile(n),n.mine&&t.revealTile(e,n)}))})))})),n.element.addEventListener("contextmenu",(function(e){e.preventDefault(),t.makrTile(n),i()}))))}))})),r.style.setProperty("--size",10..toString()),o.textContent=5..toString();var i=function(){var n=e.reduce((function(e,n){return e+n.filter((function(e){return e.getStatus()===t.STATUS_VALUES.MARKED})).length}),0);o.textContent=(5-n).toString()},a=function(t){t.stopImmediatePropagation()}})()})();